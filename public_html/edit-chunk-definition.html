<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <title>Edit Chunk Definition</title>
  
  <link rel="stylesheet" href="/assets/css/lib/semantic-ui.1.9.0.css" />
  <link rel="stylesheet" href="/assets/css/semantic-ui-overrides.css" />
  
  <link rel="stylesheet" href="/assets/css/edit-chunk-definition.css" />
</head>

<body>

  <!-- ractive template containers -->

  <div id="field-maker-ui">
    <div id="fields-container"></div>
  </div>

  <div id="show-json-container">
    <textarea id="show-json" name="templateData" disabled></textarea>
  </div>

  <!-- ractive templates / partials -->

  <script id="fields-container-template" type="text/ractive">

    <h1>Edit chunk definition: {{label}} [{{type}}]</h1>

    <p>NOTE: there must be at least one field. Also each group must have at least one field. Otherwise, when you reload the chunk definition, the field arrays will be missing entirely, recursion errors will abound and kittens will suffer. (This issue will be fixed. Eventually.)</p>

    <p>Checkboxes do not work. Booleans are saved as strings, so "false" is always truthy. So they are always checked.</p>

    <form id="chunkDefinitionForm">

      <label>Label</label> <input value="{{label}}" />

      <button value="save" id="save-chunk-def-btn" class="ui primary button" on-click="savechunkdef">
        <i class="lightning icon"></i> Save
      </button>

      <hr />

      {{> addFieldsMenu }}

      <div id="fieldsListContainer" class="fieldsListContainer">

        {{> fieldsList }}

      </div>

    </form>

  </script>

  <!-- javascript dependencies -->

  <script src="/assets/js/lib/jquery-2.1.3.min.js"></script>
  <script src="/assets/js/lib/semantic-ui.1.9.0.min.js"></script>
  <script src="/assets/js/lib/ractive.0.7.1.js"></script>
  <script src="/assets/js/ui.js"></script>

  <script src="/assets/js/edit-chunk-definition.js"></script>

</body>
</html>