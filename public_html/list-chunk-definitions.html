<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <title>List Chunk Definitions</title>
  
  <link rel="stylesheet" href="/assets/css/lib/semantic-ui.1.9.0.css" />
  <link rel="stylesheet" href="/assets/css/semantic-ui-overrides.css" />
</head>

<body>

  <!-- ractive template containers -->

  <div id="chunkDefListContainer"></div>

  <!-- ractive templates / partials -->

  <script id="chunkDefListTemplate" type="text/ractive">

    <h1>Chunk Definitions</h1>

    <p>SHOULD NOT BE ABLE TO CREATE A CHUNK DEF OF TYPE THAT ALREADY EXISTS</p>

    <h2>Make new chunk definition</h2>

    <form id="makeNewChunkDefForm">

      <label>Type</label>
      <input value="{{newchunkdeftype}}" type="text" required pattern="[A-Za-z0-9_]+"/>
  
      <div class="ui primary button" on-click="makenewchunkdef:{{newchunkdeftype}}">
        <i class="lightning icon"></i> Make new chunk definition
      </div>

    </form>

    <table class="ui celled striped table">
      <thead>
        <tr><th colspan="3">
          Chunk Definitions
        </th>
      </tr>
      </thead>
      <tbody>

        {{#each chunkdefinitions}}

          <tr>
            <td class="collapsing">

              <a href="/edit-chunk-definition.html#/{{type}}">
                <i class="browser icon large"></i> {{type}}
              </a>

            </td>
            <td>

              {{label}}

            </td>
            <td class="collapsing">

              <button class="ui button" on-click="deleteChunkDef:{{type}}">
                <i class="remove icon"></i> Delete
              </button>
              <a href="/edit-chunk-definition.html#/{{type}}" class="ui teal button">
                <i class="edit icon"></i> Edit
              </a>

            </td>
          </tr>

        {{/each }}
        
      </tbody>
    </table>

  </script>

  <!-- javascript dependencies -->

  <script src="/assets/js/lib/jquery-2.1.3.min.js"></script>
  <script src="/assets/js/lib/semantic-ui.1.9.0.min.js"></script>
  <script src="/assets/js/lib/ractive.0.7.1.js"></script>
  <script src="/assets/js/ui.js"></script>

  <script src="/assets/js/list-chunk-definitions.js"></script>

</body>
</html>